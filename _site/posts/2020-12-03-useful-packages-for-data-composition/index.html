<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #545454; font-weight: bold; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #a1024a; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007faa; font-weight: bold; } /* ControlFlow */
code span.ch { color: #008000; } /* Char */
code span.cn { color: #d91e18; } /* Constant */
code span.co { color: #545454; } /* Comment */
code span.cv { color: #545454; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #aa5d00; } /* DataType */
code span.dv { color: #a1024a; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #a1024a; } /* Float */
code span.fu { color: #4254a7; } /* Function */
code span.im { } /* Import */
code span.in { color: #545454; font-weight: bold; } /* Information */
code span.kw { color: #007faa; font-weight: bold; } /* Keyword */
code span.op { color: #696969; } /* Operator */
code span.ot { color: #007faa; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #008000; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #008000; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #008000; } /* VerbatimString */
code span.wa { color: #545454; font-weight: bold; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>R-Vogg-Blog: Useful packages for data composition</title>

<meta property="description" itemprop="description" content="We will explore the packages wakefield, rcorpora, charlatan, fabricatr, GenOrd."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2020-12-03"/>
<meta property="article:created" itemprop="dateCreated" content="2020-12-03"/>
<meta name="article:author" content="Richard Vogg"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="R-Vogg-Blog: Useful packages for data composition"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="We will explore the packages wakefield, rcorpora, charlatan, fabricatr, GenOrd."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="R-Vogg-Blog"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="R-Vogg-Blog: Useful packages for data composition"/>
<meta property="twitter:description" content="We will explore the packages wakefield, rcorpora, charlatan, fabricatr, GenOrd."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Useful packages for data composition"]},{"type":"character","attributes":{},"value":["We will explore the packages wakefield, rcorpora, charlatan, fabricatr, GenOrd."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Richard Vogg"]},{"type":"character","attributes":{},"value":["https://github.com/richardvogg"]}]}]},{"type":"character","attributes":{},"value":["12-03-2020"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc-float"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["useful-packages-for-data-composition_files/anchor-4.2.2/anchor.min.js","useful-packages-for-data-composition_files/bowser-1.9.3/bowser.min.js","useful-packages-for-data-composition_files/distill-2.2.21/template.v2.js","useful-packages-for-data-composition_files/figure-html5/unnamed-chunk-11-1.png","useful-packages-for-data-composition_files/figure-html5/unnamed-chunk-17-1.png","useful-packages-for-data-composition_files/figure-html5/unnamed-chunk-23-1.png","useful-packages-for-data-composition_files/figure-html5/unnamed-chunk-25-1.png","useful-packages-for-data-composition_files/jquery-1.11.3/jquery.min.js","useful-packages-for-data-composition_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

</style>

<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createIndex() {
  var options = {
    keys: [
      "title",
      "categories",
      "description",
      "contents"
    ]
  };
  return new window.Fuse([],options);
}

function createFuseIndex() {

  // create fuse index
  var options = { keys: ["title", "description", "contents"] };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
            keys: [
              { name: 'title', weight: 20 },
              { name: 'categories', weight: 15 },
              { name: 'description', weight: 10 },
              { name: 'contents', weight: 5 },
            ],
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
            .filter(function(item) { return !!item.description; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description}
                </div>
                <div class="search-item-preview">
                  <img src="${suggestion.preview ? offsetURL(suggestion.preview) : ''}"</img>
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: hidden;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
}

/*-- ARTICLE METADATA --*/
.d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */
@import url("https://fonts.googleapis.com/css?family=Libre+Baskerville");




html {
  /*-- Main font sizes --*/
  --title-size:      30px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    'Libre Baskerville';
  --mono-font:       monospace;
  --body-font:       sans-serif;
}

/*-- ARTICLE METADATA --*/
.d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(0, 0, 0, 0.8);
  --text-size:        15px;
  --hover-color:      black;
  --bkgd-color:       #FF8C00;
}

.title {
  font-family: 'Libre Baskerville';
}

.posts-list .description h2 {
  font-family: 'Libre Baskerville';
}

d-article h1 {
  font-size: 28px;
}

d-article h2 {
  font-size: 24px;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
	font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
/* only text inside of <p> tags */
d-article > p {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}

/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
	font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
	font-size: var(--aside-size, 12px);
	color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
	font-size: var(--fig-cap-size, 13px);
	color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
	font-size: var(--heading-size, 0.6rem);
	color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
	font-size: var(--body-size, 0.8rem);
	color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
	color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
	font-size: var(--heading-size, 18px);
}

.d-contents nav a {
	font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
	color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
	color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
	color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
	font-size: var(--title-size, 18px);
}

.distill-site-header {
	font-size: var(--text-size, 15px);
	color: var(--text-color, rgba(255, 255, 255, 0.8));
	background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-header a:hover {
	color: var(--hover-color, white);
}

.distill-site-footer {
	font-size: var(--text-size, 15px);
	color: var(--text-color, rgba(255, 255, 255, 0.8));
	background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
	color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Useful packages for data composition","description":"We will explore the packages wakefield, rcorpora, charlatan, fabricatr, GenOrd.","authors":[{"author":"Richard Vogg","authorURL":"https://github.com/richardvogg","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2020-12-03T00:00:00.000+01:00","citationText":"Vogg, 2020"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">R-Vogg-Blog</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Useful packages for data composition</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>We will explore the packages wakefield, rcorpora, charlatan, fabricatr, GenOrd.</p></p>
</div>

<div class="d-byline">
  Richard Vogg <a href="https://github.com/richardvogg" class="uri">https://github.com/richardvogg</a> 
  
<br/>12-03-2020
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#additional-packages">Additional packages</a></li>
<li><a href="#wakefield">wakefield</a><ul>
<li><a href="#series">Series</a></li>
<li><a href="#visualization">Visualization</a></li>
</ul></li>
<li><a href="#rcorpora">rcorpora</a></li>
<li><a href="#charlatan">charlatan</a></li>
<li><a href="#fabricatr">fabricatr</a><ul>
<li><a href="#ordered-data">Ordered data</a></li>
<li><a href="#time-series">Time series</a></li>
</ul></li>
<li><a href="#genord">GenOrd</a></li>
<li><a href="#more-packages">More packages</a></li>
</ul>
</nav>
</div>
<h2 id="additional-packages">Additional packages</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="wakefield">wakefield</h2>
<p>Looking for interesting packages around data composition I stumbled across the {wakefield} package by Tyler Rinker.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/trinker/wakefield'>wakefield</a></span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Introduction can be found <a href="https://github.com/trinker/wakefield">here</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_data_frame.html'>r_data_frame</a></span><span class='op'>(</span>
    n <span class='op'>=</span> <span class='fl'>500</span>,
    <span class='va'>id</span>,
    <span class='va'>age</span>,
    <span class='va'>hour</span>,
    <span class='va'>iq</span>,
    <span class='va'>height</span>,
    <span class='va'>died</span>,
    <span class='va'>animal</span>,
    <span class='va'>dice</span>,
    <span class='va'>internet_browser</span>,
    <span class='va'>political</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 500 x 10
   ID      Age Hour     IQ Height Died  Animal  Dice Browser Political
   &lt;chr&gt; &lt;int&gt; &lt;tim&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;lgl&gt; &lt;fct&gt;  &lt;int&gt; &lt;fct&gt;   &lt;fct&gt;    
 1 001      25 00:0~   101     68 TRUE  India~     2 Firefox Democrat 
 2 002      66 00:0~    86     67 TRUE  Frenc~     3 Chrome  Republic~
 3 003      65 00:0~   113     68 TRUE  Bande~     2 Chrome  Republic~
 4 004      26 00:0~   106     68 FALSE Frenc~     3 Chrome  Democrat 
 5 005      46 00:0~   101     64 TRUE  Emu        1 Chrome  Democrat 
 6 006      54 00:0~    87     64 TRUE  Albat~     2 Chrome  Democrat 
 7 007      21 00:0~   112     68 FALSE Emu        3 Firefox Republic~
 8 008      66 00:0~   103     74 TRUE  Sea S~     4 Safari  Republic~
 9 009      19 00:0~    86     67 TRUE  Albat~     4 Chrome  Democrat 
10 010      85 00:0~    93     64 FALSE India~     1 Chrome  Democrat 
# ... with 490 more rows</code></pre>
</div>
<p>There are a lot of predefined variables that you can use.</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>      [,1]         [,2]          [,3]               [,4]       
 [1,] &quot;age&quot;        &quot;dice&quot;        &quot;hair&quot;             &quot;military&quot; 
 [2,] &quot;animal&quot;     &quot;dna&quot;         &quot;height&quot;           &quot;month&quot;    
 [3,] &quot;answer&quot;     &quot;dob&quot;         &quot;income&quot;           &quot;name&quot;     
 [4,] &quot;area&quot;       &quot;dummy&quot;       &quot;internet_browser&quot; &quot;normal&quot;   
 [5,] &quot;car&quot;        &quot;education&quot;   &quot;iq&quot;               &quot;political&quot;
 [6,] &quot;children&quot;   &quot;employment&quot;  &quot;language&quot;         &quot;race&quot;     
 [7,] &quot;coin&quot;       &quot;eye&quot;         &quot;level&quot;            &quot;religion&quot; 
 [8,] &quot;color&quot;      &quot;grade&quot;       &quot;likert&quot;           &quot;sat&quot;      
 [9,] &quot;date_stamp&quot; &quot;grade_level&quot; &quot;lorem_ipsum&quot;      &quot;sentence&quot; 
[10,] &quot;death&quot;      &quot;group&quot;       &quot;marital&quot;          &quot;sex&quot;      
      [,5]           
 [1,] &quot;sex_inclusive&quot;
 [2,] &quot;smokes&quot;       
 [3,] &quot;speed&quot;        
 [4,] &quot;state&quot;        
 [5,] &quot;string&quot;       
 [6,] &quot;upper&quot;        
 [7,] &quot;valid&quot;        
 [8,] &quot;year&quot;         
 [9,] &quot;zip_code&quot;     
[10,]                
attr(,&quot;class&quot;)
[1] &quot;matrix&quot; &quot;array&quot; </code></pre>
</div>
<p>Additionally, you can also access the distribution functions easily and tweak parameters of the predefined functions.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>test</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_data_frame.html'>r_data_frame</a></span><span class='op'>(</span>
    n <span class='op'>=</span> <span class='fl'>500</span>,
    <span class='va'>id</span>,
    <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/age.html'>age</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='fl'>18</span><span class='op'>:</span><span class='fl'>50</span><span class='op'>)</span>,
    `Reading(mins)` <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span>lambda<span class='op'>=</span><span class='fl'>20</span><span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/income.html'>income</a></span><span class='op'>(</span>digits<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>test</span>
</code></pre>
</div>
<pre><code># A tibble: 500 x 4
   ID      Age `Reading(mins)` Income
   &lt;chr&gt; &lt;int&gt;           &lt;int&gt;  &lt;dbl&gt;
 1 001      27              13  40099
 2 002      48              30  18588
 3 003      35              19  81664
 4 004      34              21  85229
 5 005      28              22  16206
 6 006      47              18  35152
 7 007      25              22  13919
 8 008      19              22  28440
 9 009      18              24  81271
10 010      22              24   7473
# ... with 490 more rows</code></pre>
</div>
<p>Looks too perfect? Include random missing values:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>test</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_na.html'>r_na</a></span><span class='op'>(</span>cols<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>4</span><span class='op'>)</span>,prob<span class='op'>=</span><span class='fl'>0.3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 500 x 4
   ID      Age `Reading(mins)` Income
   &lt;chr&gt; &lt;int&gt;           &lt;int&gt;  &lt;dbl&gt;
 1 001      27              13  40099
 2 002      48              30  18588
 3 003      NA              19  81664
 4 004      34              21  85229
 5 005      28              22  16206
 6 006      47              18     NA
 7 007      25              22     NA
 8 008      NA              22  28440
 9 009      18              24  81271
10 010      22              24   7473
# ... with 490 more rows</code></pre>
</div>
<h3 id="series">Series</h3>
<p>Sequences of answers:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_series.html'>r_series</a></span><span class='op'>(</span><span class='va'>likert</span>,j <span class='op'>=</span> <span class='fl'>5</span>,n<span class='op'>=</span><span class='fl'>10</span>,name<span class='op'>=</span><span class='st'>"Question"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 10 x 5
   Question_1    Question_2    Question_3    Question_4   Question_5  
 * &lt;ord&gt;         &lt;ord&gt;         &lt;ord&gt;         &lt;ord&gt;        &lt;ord&gt;       
 1 Strongly Dis~ Strongly Dis~ Strongly Dis~ Agree        Strongly Di~
 2 Disagree      Agree         Agree         Agree        Disagree    
 3 Strongly Dis~ Strongly Dis~ Neutral       Strongly Di~ Agree       
 4 Disagree      Strongly Dis~ Strongly Dis~ Strongly Di~ Agree       
 5 Agree         Disagree      Strongly Agr~ Strongly Ag~ Disagree    
 6 Strongly Agr~ Strongly Dis~ Agree         Neutral      Strongly Ag~
 7 Agree         Strongly Dis~ Agree         Agree        Disagree    
 8 Agree         Disagree      Agree         Strongly Di~ Disagree    
 9 Neutral       Neutral       Strongly Dis~ Strongly Ag~ Strongly Ag~
10 Agree         Disagree      Agree         Strongly Di~ Neutral     </code></pre>
</div>
<p>These can also be packaged inside a data frame:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_data_frame.html'>r_data_frame</a></span><span class='op'>(</span>
  n<span class='op'>=</span><span class='fl'>10</span>,
  Student<span class='op'>=</span><span class='va'>id</span>,
  age<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='fl'>14</span><span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_series.html'>r_series</a></span><span class='op'>(</span><span class='va'>grade</span>,j<span class='op'>=</span><span class='fl'>3</span>,integer<span class='op'>=</span><span class='cn'>TRUE</span>,name<span class='op'>=</span><span class='st'>"Test"</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 10 x 5
   Student   age Test_1 Test_2 Test_3
   &lt;chr&gt;   &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;
 1 01         11     85     90     99
 2 02         17     89     95     91
 3 03         17     83     82     88
 4 04         10     85     82     84
 5 05         10     87     82     83
 6 06         18     88     87     88
 7 07         17     91     92     89
 8 08         15     89     85     85
 9 09         13     86     90     81
10 10         15     86     83     86</code></pre>
</div>
<p>That is great but not very real, because the test results are completely independent from each other. The <code>relate</code> parameter helps to connect the results, and the format is <code>fM_sd</code>.</p>
<ul>
<li>f is one of (+,-,*,/)</li>
<li>M is the mean value</li>
<li>sd is the standard deviation of the mean value</li>
</ul>
<p>Example <code>+3_1</code>: The test results get better on average 3 points with a standard deviation of 1.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_data_frame.html'>r_data_frame</a></span><span class='op'>(</span>
  n<span class='op'>=</span><span class='fl'>10</span>,
  Student<span class='op'>=</span><span class='va'>id</span>,
  age<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/stats/Poisson.html'>rpois</a></span><span class='op'>(</span><span class='fl'>14</span><span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_series.html'>r_series</a></span><span class='op'>(</span><span class='va'>grade</span>,j<span class='op'>=</span><span class='fl'>3</span>,integer<span class='op'>=</span><span class='cn'>TRUE</span>,name<span class='op'>=</span><span class='st'>"Test"</span>,relate<span class='op'>=</span><span class='st'>"+3_1"</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 10 x 5
   Student   age Test_1     Test_2     Test_3    
   &lt;chr&gt;   &lt;int&gt; &lt;variable&gt; &lt;variable&gt; &lt;variable&gt;
 1 01         18 90.2       94.0       96.0      
 2 02          8 84.0       87.6       90.9      
 3 03         18 88.7       92.0       93.8      
 4 04         12 91.5       93.5       97.8      
 5 05         12 94.3       97.2       99.6      
 6 06         13 92.9       96.9       99.7      
 7 07          8 91.9       95.2       97.7      
 8 08         15 87.1       92.6       95.2      
 9 09         12 91.1       94.4       96.3      
10 10          7 84.4       89.4       93.1      </code></pre>
</div>
<p>With this in mind, you can create customer balances over time very easily.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>balances</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_data_frame.html'>r_data_frame</a></span><span class='op'>(</span>
  n<span class='op'>=</span><span class='fl'>10</span>,
  Client<span class='op'>=</span><span class='va'>name</span>,
  <span class='va'>age</span>,
  <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_series.html'>r_series</a></span><span class='op'>(</span><span class='va'>income</span>,j<span class='op'>=</span><span class='fl'>12</span>,name<span class='op'>=</span><span class='st'>"Month"</span>,relate<span class='op'>=</span><span class='st'>"*1.03_0.1"</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
</div>
<p>We can see that there are customers who had very positive balance development and others whose balances were fluctuating more or declining. However, when we simulate a sufficiently large number of customers, we</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>balances</span> <span class='op'>%&gt;%</span>
  <span class='fu'>tidyr</span><span class='fu'>::</span><span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span>,names_to<span class='op'>=</span><span class='st'>"Month"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>Month<span class='op'>=</span><span class='fu'>readr</span><span class='fu'>::</span><span class='fu'><a href='https://readr.tidyverse.org/reference/parse_number.html'>parse_number</a></span><span class='op'>(</span><span class='va'>Month</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>Month</span>,y<span class='op'>=</span><span class='va'>value</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>Client</span>,scales<span class='op'>=</span><span class='st'>"free_y"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="useful-packages-for-data-composition_files/figure-html5/unnamed-chunk-11-1.png" width="624" /></p>
</div>
<h3 id="visualization">Visualization</h3>
<p>This is a great feature to quickly get a glimpse of data types and missing values (+ missing value distribution).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_data_frame.html'>r_data_frame</a></span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>500</span>,
    <span class='va'>id</span>,
    <span class='va'>dob</span>,
    <span class='va'>animal</span>,
    <span class='va'>grade</span>, <span class='va'>grade</span>,
    <span class='va'>death</span>,
    <span class='va'>dummy</span>,
    <span class='va'>grade_letter</span>,
    <span class='va'>gender</span>,
    <span class='va'>sentence</span>
<span class='op'>)</span> <span class='op'>%&gt;%</span>
   <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/r_na.html'>r_na</a></span><span class='op'>(</span>cols<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"DOB"</span>,<span class='st'>"Animal"</span>,<span class='st'>"Gender"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'><a href='https://rdrr.io/pkg/wakefield/man/table_heat.html'>table_heat</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Set1"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="rcorpora">rcorpora</h2>
<p>Check the github repository <a href="https://github.com/gaborcsardi/rcorpora">here</a>.</p>
<p>The rcorpora library has 293 collections of words that can be very helpful for data simulation.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/gaborcsardi/rcorpora'>rcorpora</a></span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/rcorpora/man/corpora.html'>corpora</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 293</code></pre>
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://rdrr.io/pkg/rcorpora/man/corpora.html'>corpora</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>293</span>,<span class='fl'>10</span><span class='op'>)</span><span class='op'>]</span>
</code></pre>
</div>
<pre><code> [1] &quot;humans/celebrities&quot;          &quot;materials/gemstones&quot;        
 [3] &quot;foods/sandwiches&quot;            &quot;words/stopwords/pt&quot;         
 [5] &quot;technology/new_technologies&quot; &quot;geography/norwegian_cities&quot; 
 [7] &quot;words/stopwords/jp&quot;          &quot;religion/christian_saints&quot;  
 [9] &quot;words/stopwords/lv&quot;          &quot;sports/football/serieA&quot;     </code></pre>
</div>
<p>To view the words of one collection use the name in the <code>corpora()</code> function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://rdrr.io/pkg/rcorpora/man/corpora.html'>corpora</a></span><span class='op'>(</span><span class='st'>"foods/pizzaToppings"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$description
[1] &quot;A list of pizza toppings.&quot;

$pizzaToppings
 [1] &quot;anchovies&quot;        &quot;artichoke&quot;        &quot;bacon&quot;           
 [4] &quot;breakfast bacon&quot;  &quot;Canadian bacon&quot;   &quot;cheese&quot;          
 [7] &quot;chicken&quot;          &quot;chili peppers&quot;    &quot;feta&quot;            
[10] &quot;garlic&quot;           &quot;green peppers&quot;    &quot;grilled onions&quot;  
[13] &quot;ground beef&quot;      &quot;ham&quot;              &quot;hot sauce&quot;       
[16] &quot;meatballs&quot;        &quot;mushrooms&quot;        &quot;olives&quot;          
[19] &quot;onions&quot;           &quot;pepperoni&quot;        &quot;pineapple&quot;       
[22] &quot;sausage&quot;          &quot;spinach&quot;          &quot;sun-dried tomato&quot;
[25] &quot;tomatoes&quot;        </code></pre>
</div>
<p>Let see how we can use this in a simulated dataframe.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
  first_name<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/rcorpora/man/corpora.html'>corpora</a></span><span class='op'>(</span><span class='st'>"humans/firstNames"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>firstNames</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>100</span>,replace<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>,
  last_name<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/rcorpora/man/corpora.html'>corpora</a></span><span class='op'>(</span><span class='st'>"humans/lastNames"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>lastNames</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>100</span>,replace<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>,
  self_description<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/rcorpora/man/corpora.html'>corpora</a></span><span class='op'>(</span><span class='st'>"humans/descriptions"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>descriptions</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>100</span>,replace<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>,
  home_country<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/rcorpora/man/corpora.html'>corpora</a></span><span class='op'>(</span><span class='st'>"geography/countries"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>countries</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>100</span>,replace<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>,
  favorite_pizza_topping<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/pkg/rcorpora/man/corpora.html'>corpora</a></span><span class='op'>(</span><span class='st'>"foods/pizzaToppings"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>pizzaToppings</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>100</span>,replace<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 100 x 5
   first_name last_name self_description home_country favorite_pizza_~
   &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;            &lt;chr&gt;        &lt;chr&gt;           
 1 Skylar     Edwards   groggy           Latvia       olives          
 2 Timothy    Gordon    lean             Nicaragua    garlic          
 3 Kelsey     Rose      willing          Cameroon     chicken         
 4 Luke       Stewart   delightful       Sri Lanka    ground beef     
 5 Nicole     Wallace   cruel            Qatar        pineapple       
 6 Jonah      Rice      wary             Tajikistan   pepperoni       
 7 Megan      Stevens   plain-speaking   Swaziland    cheese          
 8 Brody      Barnes    reluctant        Guyana       chicken         
 9 Jason      Foster    one-sided        Uruguay      grilled onions  
10 Thomas     Chavez    unaffected       Estonia      ground beef     
# ... with 90 more rows</code></pre>
</div>
<h2 id="charlatan">charlatan</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://docs.ropensci.org/charlatan'>charlatan</a></span><span class='op'>)</span>

<span class='fu'><a href='https://docs.ropensci.org/charlatan/reference/ch_job.html'>ch_job</a></span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;Counsellor&quot;                     &quot;Systems analyst&quot;               
 [3] &quot;Clinical research associate&quot;    &quot;Aeronautical engineer&quot;         
 [5] &quot;Accommodation manager&quot;          &quot;Dance movement psychotherapist&quot;
 [7] &quot;Fitness centre manager&quot;         &quot;Programmer, applications&quot;      
 [9] &quot;Event organiser&quot;                &quot;Actor&quot;                         </code></pre>
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://docs.ropensci.org/charlatan/reference/ch_name.html'>ch_name</a></span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>10</span>,locale<span class='op'>=</span><span class='st'>"de_DE"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;Frida Höfig&quot;                    &quot;Univ.Prof. Ignatz Adler B.Eng.&quot;
 [3] &quot;Herr Hans-Adolf Schaaf B.Eng.&quot;  &quot;Hans-Christian Lübs MBA.&quot;      
 [5] &quot;Ing. Marc Fröhlich&quot;             &quot;Luisa Mitschke&quot;                
 [7] &quot;Frau Marie-Louise Bien B.Eng.&quot;  &quot;Katja Schomber-Schmiedt&quot;       
 [9] &quot;Frau Slavica Zänker MBA.&quot;       &quot;Dr. Piotr Stey&quot;                </code></pre>
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://docs.ropensci.org/charlatan/reference/ch_color.html'>ch_color_name</a></span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;MintCream&quot;     &quot;Navy&quot;          &quot;Black&quot;         &quot;Teal&quot;         
 [5] &quot;MediumBlue&quot;    &quot;MistyRose&quot;     &quot;Tomato&quot;        &quot;PeachPuff&quot;    
 [9] &quot;LightSalmon&quot;   &quot;PaleVioletRed&quot;</code></pre>
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://docs.ropensci.org/charlatan/reference/ch_phone_number.html'>ch_phone_number</a></span><span class='op'>(</span>locale<span class='op'>=</span><span class='st'>"de_DE"</span>,n<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;+49 (0) 1720 802187&quot; &quot;03620 99631&quot;         &quot;(01226) 649261&quot;     
 [4] &quot;+49(0) 824237073&quot;    &quot;+49 (0) 8400 206866&quot; &quot;+49(0)8440 75302&quot;   
 [7] &quot;06401 91167&quot;         &quot;+49(0)2991 35592&quot;    &quot;05552 060876&quot;       
[10] &quot;00126 77808&quot;        </code></pre>
</div>
<p>A nice small application with fake locations.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>locations</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>lon<span class='op'>=</span><span class='fu'><a href='https://docs.ropensci.org/charlatan/reference/coordinates.html'>ch_lon</a></span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span>,lat<span class='op'>=</span><span class='fu'><a href='https://docs.ropensci.org/charlatan/reference/coordinates.html'>ch_lat</a></span><span class='op'>(</span>n<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>locations</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/borders.html'>borders</a></span><span class='op'>(</span><span class='st'>"world"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>lon</span>,y<span class='op'>=</span><span class='va'>lat</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_map.html'>coord_quickmap</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="useful-packages-for-data-composition_files/figure-html5/unnamed-chunk-17-1.png" width="624" /></p>
</div>
<h2 id="fabricatr">fabricatr</h2>
<p>Easy creation of hierarchical data. In this example there are five families, each one has between 1 and 12 members. Each family member has between 1 and 5 accounts. With <code>add_level()</code> we can automatically produce a table that shows all accounts of all members in all families.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://declaredesign.org/r/fabricatr'>fabricatr</a></span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>fabricate</a></span><span class='op'>(</span>
  family  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>add_level</a></span><span class='op'>(</span>N <span class='op'>=</span> <span class='fl'>5</span>,
  n_members <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>12</span>, <span class='va'>N</span>, replace <span class='op'>=</span> <span class='cn'>TRUE</span>,prob<span class='op'>=</span><span class='fl'>12</span><span class='op'>:</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>,
  
  members  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>add_level</a></span><span class='op'>(</span>N <span class='op'>=</span> <span class='va'>n_members</span>,
  n_accounts <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>,<span class='va'>N</span>,replace<span class='op'>=</span><span class='cn'>TRUE</span>,prob<span class='op'>=</span><span class='op'>(</span><span class='fl'>5</span><span class='op'>:</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>^</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,
  
  account <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>add_level</a></span><span class='op'>(</span>N <span class='op'>=</span> <span class='va'>n_accounts</span><span class='op'>)</span>
  <span class='op'>)</span> <span class='op'>%&gt;%</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>   family n_members members n_accounts account
1       1         6      01          1      01
2       1         6      02          1      02
3       1         6      03          1      03
4       1         6      04          1      04
5       1         6      05          2      05
6       1         6      05          2      06
7       1         6      06          3      07
8       1         6      06          3      08
9       1         6      06          3      09
10      2         1      07          1      10</code></pre>
</div>
<p>Link levels. We can create 15 clients with their birth year and join year and some correlation between both variables.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>fabricate</a></span><span class='op'>(</span>
  age <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>add_level</a></span><span class='op'>(</span>N<span class='op'>=</span><span class='fl'>51</span>, birth_year<span class='op'>=</span><span class='fl'>1950</span><span class='op'>:</span><span class='fl'>2000</span><span class='op'>)</span>,
  tenure <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>add_level</a></span><span class='op'>(</span>N <span class='op'>=</span> <span class='fl'>20</span>, join_year<span class='op'>=</span><span class='fl'>1991</span><span class='op'>:</span><span class='fl'>2010</span>, nest <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>,
  client <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/cross_levels.html'>link_levels</a></span><span class='op'>(</span>N <span class='op'>=</span> <span class='fl'>15</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/join.html'>join</a></span><span class='op'>(</span><span class='va'>age</span>, <span class='va'>tenure</span>, rho <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>client</span>,<span class='va'>birth_year</span>,<span class='va'>join_year</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>   client birth_year join_year
1      01       1957      1996
2      02       1958      2003
3      03       1966      2001
4      04       1952      1996
5      05       1977      2001
6      06       1985      2003
7      07       1975      1992
8      08       1984      2005
9      09       1999      2010
10     10       1977      2003
11     11       1964      1991
12     12       1953      1992
13     13       1987      2002
14     14       1960      1994
15     15       1992      2007</code></pre>
</div>
<h3 id="ordered-data">Ordered data</h3>
<p><code>fabricatr</code> has an amazing function to create ordered data.</p>
<p>Let’s take a look at an example where we have two types of clients, gold clients that receive a yearly gift from the bank and standard clients that do not. How could we simulate their responses to a satisfaction survey?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>fabricate</a></span><span class='op'>(</span>
  N <span class='op'>=</span> <span class='fl'>100</span>,
  gold_client_flag <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/draw_discrete.html'>draw_binary</a></span><span class='op'>(</span>prob <span class='op'>=</span> <span class='fl'>0.3</span>, <span class='va'>N</span><span class='op'>)</span>,
  satisfaction <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/draw_discrete.html'>draw_ordered</a></span><span class='op'>(</span>
    x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>N</span>, mean <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.4</span> <span class='op'>+</span> <span class='fl'>1.2</span> <span class='op'>*</span> <span class='va'>gold_client_flag</span><span class='op'>)</span>,
    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1.5</span>, <span class='op'>-</span><span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>1.5</span><span class='op'>)</span>,
    break_labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Very Unsatisfied"</span>, <span class='st'>"Unsatisfied"</span>, <span class='st'>"Neutral"</span>,
                     <span class='st'>"Satisfied"</span>, <span class='st'>"Very Satisfied"</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>gold_client_flag</span>,<span class='va'>satisfaction</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>tidyr</span><span class='fu'>::</span><span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_wider.html'>pivot_wider</a></span><span class='op'>(</span>id_cols<span class='op'>=</span><span class='va'>satisfaction</span>,names_from<span class='op'>=</span><span class='st'>"gold_client_flag"</span>,values_from<span class='op'>=</span><span class='st'>"n"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 5 x 3
  satisfaction       `0`   `1`
  &lt;fct&gt;            &lt;int&gt; &lt;int&gt;
1 Very Unsatisfied    10    NA
2 Unsatisfied         23     4
3 Neutral             17    15
4 Satisfied            8     9
5 Very Satisfied       5     9</code></pre>
</div>
<p>To draw counts from a distribution we can use <code>draw_count()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>rtlme_model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>fabricate</a></span><span class='op'>(</span>
  N <span class='op'>=</span> <span class='fl'>1000</span>,
  radio_coverage <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Lognormal.html'>rlnorm</a></span><span class='op'>(</span><span class='va'>N</span>, meanlog<span class='op'>=</span><span class='fl'>0</span>, sdlog<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,
  violent_incident_count <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/draw_discrete.html'>draw_count</a></span><span class='op'>(</span>mean <span class='op'>=</span> <span class='fl'>1.5</span> <span class='op'>*</span> <span class='va'>radio_coverage</span>, N <span class='op'>=</span> <span class='va'>N</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="time-series">Time series</h3>
<p>Example from <a href="https://declaredesign.org/r/fabricatr/articles/time_series.html">this article</a>.</p>
<p>This example contains the gdp of five countries over the course of five years.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>panel_units</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>fabricate</a></span><span class='op'>(</span>
  countries <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>add_level</a></span><span class='op'>(</span>
    N <span class='op'>=</span> <span class='fl'>5</span>,
    base_gdp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>N</span>, <span class='fl'>15</span>, <span class='fl'>22</span><span class='op'>)</span>,
    growth_units <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>N</span>, <span class='fl'>0.2</span>, <span class='fl'>0.8</span><span class='op'>)</span>,
    growth_error <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>N</span>, <span class='fl'>0.1</span>, <span class='fl'>0.5</span><span class='op'>)</span>
  <span class='op'>)</span>,
  years <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>add_level</a></span><span class='op'>(</span>
    N <span class='op'>=</span> <span class='fl'>5</span>,
    ts_year <span class='op'>=</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>4</span>,
    gdp_measure <span class='op'>=</span> <span class='va'>base_gdp</span> <span class='op'>+</span> <span class='op'>(</span><span class='va'>ts_year</span> <span class='op'>*</span> <span class='va'>growth_units</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>N</span>, sd<span class='op'>=</span><span class='va'>growth_error</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>panel_units</span>
</code></pre>
</div>
<pre><code>   countries base_gdp growth_units growth_error years ts_year
1          1 16.90156    0.7887063    0.4250585    01       0
2          1 16.90156    0.7887063    0.4250585    02       1
3          1 16.90156    0.7887063    0.4250585    03       2
4          1 16.90156    0.7887063    0.4250585    04       3
5          1 16.90156    0.7887063    0.4250585    05       4
6          2 19.00123    0.5316010    0.2704959    06       0
7          2 19.00123    0.5316010    0.2704959    07       1
8          2 19.00123    0.5316010    0.2704959    08       2
9          2 19.00123    0.5316010    0.2704959    09       3
10         2 19.00123    0.5316010    0.2704959    10       4
11         3 21.45789    0.5811573    0.4674703    11       0
12         3 21.45789    0.5811573    0.4674703    12       1
13         3 21.45789    0.5811573    0.4674703    13       2
14         3 21.45789    0.5811573    0.4674703    14       3
15         3 21.45789    0.5811573    0.4674703    15       4
16         4 17.27903    0.6806222    0.1447995    16       0
17         4 17.27903    0.6806222    0.1447995    17       1
18         4 17.27903    0.6806222    0.1447995    18       2
19         4 17.27903    0.6806222    0.1447995    19       3
20         4 17.27903    0.6806222    0.1447995    20       4
21         5 19.50876    0.4422331    0.2363325    21       0
22         5 19.50876    0.4422331    0.2363325    22       1
23         5 19.50876    0.4422331    0.2363325    23       2
24         5 19.50876    0.4422331    0.2363325    24       3
25         5 19.50876    0.4422331    0.2363325    25       4
   gdp_measure
1     16.92928
2     17.56074
3     18.53657
4     19.88491
5     20.04814
6     19.06130
7     19.59367
8     20.38241
9     20.30867
10    21.12840
11    21.03028
12    22.38920
13    22.94488
14    23.09727
15    23.71597
16    17.12976
17    17.68792
18    18.46198
19    19.32061
20    19.61428
21    19.40967
22    19.75703
23    20.31434
24    20.58925
25    21.08585</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="useful-packages-for-data-composition_files/figure-html5/unnamed-chunk-23-1.png" width="624" /></p>
</div>
<p>We can take this to the next level and introduce some year specific information and then cross this with the country specific information. We just have to add one layer.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>panel_global_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>fabricate</a></span><span class='op'>(</span>
  years <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>add_level</a></span><span class='op'>(</span>
    N <span class='op'>=</span> <span class='fl'>5</span>,
    ts_year <span class='op'>=</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>4</span>,
    year_shock <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>N</span>, <span class='fl'>0</span>, <span class='fl'>0.3</span><span class='op'>)</span> <span class='co'>#each year has a global trend</span>
  <span class='op'>)</span>,
  countries <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/fabricate.html'>add_level</a></span><span class='op'>(</span>
    N <span class='op'>=</span> <span class='fl'>5</span>,
    base_gdp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>N</span>, <span class='fl'>15</span>, <span class='fl'>22</span><span class='op'>)</span>,
    growth_units <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>N</span>, <span class='fl'>0.2</span>, <span class='fl'>0.5</span><span class='op'>)</span>, 
    growth_error <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>N</span>, <span class='fl'>0.1</span>, <span class='fl'>0.5</span><span class='op'>)</span>,
    nest <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span>,
  country_years <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/cross_levels.html'>cross_levels</a></span><span class='op'>(</span>
    by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/fabricatr/man/join.html'>join</a></span><span class='op'>(</span><span class='va'>years</span>, <span class='va'>countries</span><span class='op'>)</span>,
    gdp_measure <span class='op'>=</span> <span class='va'>base_gdp</span> <span class='op'>+</span> <span class='va'>year_shock</span> <span class='op'>+</span> <span class='op'>(</span><span class='va'>ts_year</span> <span class='op'>*</span> <span class='va'>growth_units</span><span class='op'>)</span> <span class='op'>+</span>
      <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>N</span>, sd<span class='op'>=</span><span class='va'>growth_error</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="useful-packages-for-data-composition_files/figure-html5/unnamed-chunk-25-1.png" width="624" /></p>
</div>
<h2 id="genord">GenOrd</h2>
<p>This package helps to create discrete random variables with prescribed correlation matrix and marginal distributions.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>GenOrd</span><span class='op'>)</span>


<span class='va'>k</span> <span class='op'>&lt;-</span> <span class='fl'>4</span> <span class='co'>#number of random variables</span>
<span class='va'>marginal</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>0.6</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>/</span><span class='fl'>3</span>,<span class='fl'>2</span><span class='op'>/</span><span class='fl'>3</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>/</span><span class='fl'>4</span>,<span class='fl'>2</span><span class='op'>/</span><span class='fl'>4</span>,<span class='fl'>3</span><span class='op'>/</span><span class='fl'>4</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>/</span><span class='fl'>5</span>,<span class='fl'>2</span><span class='op'>/</span><span class='fl'>5</span>,<span class='fl'>3</span><span class='op'>/</span><span class='fl'>5</span>,<span class='fl'>4</span><span class='op'>/</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Read this as follows: * We will create 4 random variables. * The first variable will have two values 60% of the data will be 1, 40% will be 2. * The second variable will have three values, 1,2 and 3 with a probability of 33% each. * etc… * Each vector in this list refers to one variable, and we will see the cumulative probability for each value.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://rdrr.io/pkg/GenOrd/man/corrcheck.html'>corrcheck</a></span><span class='op'>(</span><span class='va'>marginal</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[[1]]
4 x 4 Matrix of class &quot;dsyMatrix&quot;
           [,1]       [,2]       [,3]       [,4]
[1,]  1.0000000 -0.8333333 -0.8215838 -0.8660254
[2,] -0.8333333  1.0000000 -0.9128709 -0.9237604
[3,] -0.8215838 -0.9128709  1.0000000 -0.9486833
[4,] -0.8660254 -0.9237604 -0.9486833  1.0000000

[[2]]
4 x 4 Matrix of class &quot;dsyMatrix&quot;
          [,1]      [,2]      [,3]      [,4]
[1,] 1.0000000 0.8333333 0.8215838 0.8660254
[2,] 0.8333333 1.0000000 0.9128709 0.9237604
[3,] 0.8215838 0.9128709 1.0000000 0.9486833
[4,] 0.8660254 0.9237604 0.9486833 1.0000000</code></pre>
</div>
<p>This function shows what are allowable ranges for the correlation matrix, given the input from the marginal distributions.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>Sigma</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>0.5</span>,<span class='fl'>0.4</span>,<span class='fl'>0.3</span>,
                  <span class='fl'>0.5</span>,<span class='fl'>1</span>,<span class='fl'>0.5</span>,<span class='fl'>0.4</span>,
                  <span class='fl'>0.4</span>,<span class='fl'>0.5</span>,<span class='fl'>1</span>,<span class='fl'>0.5</span>,
                  <span class='fl'>0.3</span>,<span class='fl'>0.4</span>,<span class='fl'>0.5</span>,<span class='fl'>1</span><span class='op'>)</span>,
                <span class='va'>k</span>, <span class='va'>k</span>, byrow<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>


<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>1000</span> <span class='co'># sample size</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/GenOrd/man/ordsample.html'>ordsample</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='va'>marginal</span>, <span class='va'>Sigma</span><span class='op'>)</span>

<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>m</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>  X1 X2 X3 X4
1  2  2  2  2
2  2  3  4  5
3  1  2  3  3
4  1  1  1  2
5  1  1  1  2
6  1  1  2  2</code></pre>
</div>
<p>Let’s verify that the data is actually what we expected.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>          X1        X2        X3        X4
X1 1.0000000 0.5230816 0.4086599 0.3521497
X2 0.5230816 1.0000000 0.5188758 0.4397761
X3 0.4086599 0.5188758 1.0000000 0.5348078
X4 0.3521497 0.4397761 0.5348078 1.0000000</code></pre>
<div class="sourceCode">
<pre><code><span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>X4</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>  X4   n
1  1 199
2  2 205
3  3 207
4  4 201
5  5 188</code></pre>
<div class="sourceCode">
<pre><code><span class='va'>df</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>X1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>  X1   n
1  1 609
2  2 391</code></pre>
</div>
<p>Later, we can rename the columns and values, but will have assured that they have the desired correlations.</p>
<h2 id="more-packages">More packages</h2>
<p>In this <a href="https://rviews.rstudio.com/2020/09/09/fake-data-with-r/">blogpost</a> by Joseph Rickert on R Views.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
